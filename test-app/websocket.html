<html>
<head>
	<title>Web Socket Demo</title>
	<script type="text/javascript">
function WebSocketTest() {
	var ws = new WebSocket("ws://localhost:8080/websocket");
 
	ws.onopen = function() {
		var count = 1;
		setInterval(function() {
			if (ws.bufferedAmount == 0) {
				ws.send("Hello! - " + count);
				count = count + 1;
			}
		}, 1000);
	};
 
	ws.onmessage = function (evt) { 
		var received_msg = evt.data;
		console.warn(evt);
	};
 
	ws.onclose = function(event) { 
		alert("Connection is closed...");
		console.warn(event);
	};     
}
	</script>	
</head>

<div>
   <a href="javascript:WebSocketTest()">Run WebSocket</a>
</div>
</html>