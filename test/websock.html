<html>
<head>
	<title>Web Socket Demo</title>
	
	<script type="text/javascript">
	function WebSocketTest() {
	  if ("WebSocket" in window) {
	     //alert("WebSocket is supported by your Browser!");
	     // Let us open a web socket
	     var ws = new WebSocket("ws://localhost:8069/ws/wot");
	     //var ws = new WebSocket("ws://echo.websocket.org");
	     
	     ws.onopen = function(evt) {
	     	console.info("Opening...");
	        // Web Socket is connected, send data using send()
	        ws.send("SlimerDude kicks Ass!");
	     	console.info("Sent msg");
	     };
	     
	     console.info("Readu :" + ws.readyState);
	     if (ws.readyState == 1)
	     	ws.onopen();
	     
	     ws.onmessage = function (evt) { 
	        var received_msg = evt.data;
	        alert("Message is received... "+received_msg);
	     };
	     
	     ws.onclose = function(event) { 
	        // websocket is closed.
	        alert("Connection is closed...");
	        console.warn(event);
	     };
	     
	  } else {
	     // The browser doesn't support WebSocket
	     alert("WebSocket NOT supported by your Browser!");
	  }
	}
	</script>	
</head>

<div id="sse">
   <a href="javascript:WebSocketTest()">Run WebSocket</a>
</div>
</html>